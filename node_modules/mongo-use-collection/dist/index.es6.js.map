{"version":3,"file":"index.es6.js","sources":["../src/index.js"],"sourcesContent":["import { MongoClient } from 'mongodb';\n\nexport const useCollection = async (url, collectionName, success,\n  fail = e => {\n     /* eslint-disable no-console */\n    console.log('[useCollection: FAILED]');\n    console.log(e.message);\n    console.log(e.stack);\n  }) => {\n  let result = null;\n  try {\n    const db = await MongoClient.connect(url);\n    const col = db.collection(collectionName);\n    result = await success(col, db);\n    db.close();\n  } catch (e) {\n    fail(e);\n  } finally {\n    return result;\n  }\n};\n"],"names":[],"mappings":";;;;;;AAAA,AAEO,IAAM;wDAAgB,iBAAO,GAAP,EAAY,cAAZ,EAA4B,OAA5B;QAC3B,IAD2B,yDACpB,aAAK;;cAEF,GAAR,CAAY,yBAAZ;cACQ,GAAR,CAAY,EAAE,OAAd;cACQ,GAAR,CAAY,EAAE,KAAd;KALyB;QAOvB,MAPuB,EASnB,EATmB,EAUnB,GAVmB;;;;;kBAAA,GAOd,IAPc;;;mBASR,YAAY,OAAZ,CAAoB,GAApB,CATQ;;;cAAA;eAAA,GAUb,GAAG,UAAH,CAAc,cAAd,CAVa;;mBAWV,QAAQ,GAAR,EAAa,EAAb,CAXU;;;kBAAA;;eAYtB,KAAH;;;;;;;;;;;;6CAIO,MAhBkB;;;;;;;;GAAhB;;;;;GAAN;;"}